<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learnova Exam Preparation Chatbot</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f0f2f5;
        }
        .chat-container {
            height: 500px;
            overflow-y: auto;
            border: 1px solid #ced4da;
            padding: 15px;
            border-radius: 5px;
            background-color: #ffffff;
        }
        .message {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 15px;
            max-width: 80%;
        }
        .user-message {
            background-color: #007bff;
            color: white;
            margin-left: auto;
        }
        .bot-message {
            background-color: #f1f0f0;
            margin-right: auto;
        }
        .chat-input {
            border-radius: 20px;
        }
        .send-button {
            border-radius: 20px;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Learnova Exam Preparation Assistant</h1>
        <div class="chat-container" id="chatContainer">
            <div class="message bot-message">
                Hello! I'm your LearnNova exam preparation assistant. How can I help you prepare for your exams today?
            </div>
        </div>
        <div class="input-group mt-3">
            <input type="text" id="userInput" class="form-control chat-input" placeholder="Type your message...">
            <button class="btn btn-primary send-button" onclick="sendMessage()">Send</button>
        </div>
    </div>

    <script>
        let conversationState = 'initial';
        let subjectFocus = '';

        function sendMessage() {
            var userInput = document.getElementById("userInput");
            var chatContainer = document.getElementById("chatContainer");
            
            if (userInput.value.trim() !== "") {
                appendMessage(userInput.value, 'user-message');

                let botResponse = getBotResponse(userInput.value);

                setTimeout(() => {
                    appendMessage(botResponse, 'bot-message');
                    chatContainer.scrollTop = chatContainer.scrollHeight;
                }, 500);

                userInput.value = "";
            }
        }

        function appendMessage(message, className) {
            var chatContainer = document.getElementById("chatContainer");
            var messageDiv = document.createElement("div");
            messageDiv.className = "message " + className;
            messageDiv.textContent = message;
            chatContainer.appendChild(messageDiv);
        }

        function getBotResponse(userMessage) {
            userMessage = userMessage.toLowerCase();

            switch(conversationState) {
                case 'initial':
                    if (userMessage.includes("exam preparation")) {
                        conversationState = 'subject_selection';
                        return "Great! I'd be happy to help you prepare for your exams. What subject would you like to focus on? (e.g., Math, Science, History)";
                    }
                    break;

                case 'subject_selection':
                    subjectFocus = userMessage;
                    conversationState = 'preparation_method';
                    return `Excellent choice! For ${subjectFocus}, would you like help with: 
                            1. Study techniques
                            2. Practice questions
                            3. Time management
                            4. Stress management
                            Please choose a number or type your preference.`;

                case 'preparation_method':
                    switch(userMessage) {
                        case '1':
                        case 'study techniques':
                            conversationState = 'study_techniques';
                            return `For ${subjectFocus}, here are some effective study techniques:
                                    1. Active recall: Test yourself regularly
                                    2. Spaced repetition: Review material at increasing intervals
                                    3. Mind mapping: Create visual representations of concepts
                                    Which technique would you like more information on?`;

                        case '2':
                        case 'practice questions':
                            conversationState = 'practice_questions';
                            return `Practice questions are a great way to prepare. Would you like:
                                    1. Sample questions
                                    2. Links to online practice tests
                                    3. Tips for creating your own practice questions`;

                        case '3':
                        case 'time management':
                            conversationState = 'time_management';
                            return `Effective time management is crucial. Here are some strategies:
                                    1. Create a study schedule
                                    2. Use the Pomodoro Technique
                                    3. Prioritize your subjects
                                    Which strategy would you like more details on?`;

                        case '4':
                        case 'stress management':
                            conversationState = 'stress_management';
                            return `Managing stress is important for exam success. Try these techniques:
                                    1. Deep breathing exercises
                                    2. Progressive muscle relaxation
                                    3. Mindfulness meditation
                                    Which technique would you like to learn more about?`;

                        default:
                            return "I'm sorry, I didn't understand that. Please choose one of the options provided or ask for help if you need clarification.";
                    }

                case 'study_techniques':
                case 'practice_questions':
                case 'time_management':
                case 'stress_management':
                    conversationState = 'follow_up';
                    return `Thank you for your interest in ${userMessage}. I've noted that down. Is there anything else you'd like help with regarding ${subjectFocus} exam preparation?`;

                case 'follow_up':
                    if (userMessage.includes('yes') || userMessage.includes('yeah')) {
                        conversationState = 'preparation_method';
                        return `Great! Let's continue. For ${subjectFocus}, would you like help with: 
                                1. Study techniques
                                2. Practice questions
                                3. Time management
                                4. Stress management
                                Please choose a number or type your preference.`;
                    } else if (userMessage.includes('no') || userMessage.includes('nope')) {
                        conversationState = 'initial';
                        return "Alright! If you need any more help with exam preparation, just let me know. Good luck with your studies!";
                    }
                    break;

                default:
                    return "I'm here to help with exam preparation. Can you tell me more specifically what you need help with?";
            }

            return "I'm here to help with exam preparation. Can you tell me more specifically what you need help with?";
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
